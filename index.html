<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
    <title>Jobs</title>
  </head>
  <body>
    <div id="main-img-wrapper">
      <img width="320" src="./assets/mainImg.png" alt="working image" />
    </div>
    <div id="intro-main">
      <p>Everyone's Bank SBank,</p>
      <p>Let's Work Together.</p>
      <p id="join-us-texxt">Join us!</p>
      <img
        id="down-arrow-icon"
        src="./assets/down-arrow.png"
        alt="down arrow"
      />
    </div>

    <ul id="list-item-wrapper">
      <li class="list-item"><span class="emoji">ğŸ¦</span> 26-Week Savings</li>
      <li class="list-item">
        <span class="emoji">ğŸ†˜</span> Emergency Fund Loan
      </li>
      <li class="list-item">
        <span class="emoji">ğŸ’³</span> Deposit and Withdrawal Account
      </li>
      <li class="list-item"><span class="emoji">ğŸ”’</span> Safe Box</li>
      <li class="list-item"><span class="emoji">ğŸ’°</span> Flexible Savings</li>
      <li class="list-item"><span class="emoji">ğŸ“ˆ</span> Fixed Deposit</li>
      <li class="list-item">
        <span class="emoji">ğŸ“Š</span> My Credit Information
      </li>
      <li class="list-item"><span class="emoji">ğŸ”¬</span> Laboratory</li>
      <li class="list-item"><span class="emoji">ğŸ”»</span> Overdraft Account</li>
      <li class="list-item">
        <span class="emoji">ğŸ”</span> Dormant Account/Insurance Claim Finder
      </li>
      <li class="list-item">
        <span class="emoji">ğŸ‘”</span> Personal Business Loan
      </li>
      <li class="list-item">
        <span class="emoji">ğŸŒ</span> Overseas Remittance Receipt
      </li>
      <li class="list-item">
        <span class="emoji">ğŸ“²</span> Certification Easy Transfer
      </li>
      <li class="list-item"><span class="emoji">ğŸ </span> Rent Deposit Loan</li>
      <li class="list-item">
        <span class="emoji">ğŸ’³</span> Friends Check Card
      </li>
      <li class="list-item"><span class="emoji">ğŸ‘¥</span> Group Account</li>
      <li class="list-item"><span class="emoji">ğŸ“±</span> KakaoBank Mini</li>
      <li class="list-item"><span class="emoji">ğŸ’µ</span> Credit Loan</li>
      <li class="list-item">
        <span class="emoji">ğŸ“‰</span> Securities Company Stock Account
      </li>
      <li class="list-item">
        <span class="emoji">ğŸ’³</span> Affiliate Credit Card Linked Loan
      </li>
    </ul>
    <main>
      <section id="panel1-img">
        <img
          id="flying-santa-image"
          src="./assets/santa_flying.png"
          alt="santa flying"
        />
      </section>
      <section id="video-section" >
        <div id="fixed-wrapper">
            <video id="video" controls autoplay muted loop>
                <source src="./assets/video.mp4" type="video/mp4" />
             
              </video>
<div id="fixed-description">
    <div>Overwhelming growth </div>
    <div>driven by innovation</div>
</div>

        </div>
      </section>
      <div id="bank-beyond-wrapper">
        <div id="bank-beyond">
            <img width="315" src="./assets/05-text.png" alt="sample text">
        </div>
      </div>
      <div id="white-wrapper">
        
      </div>
    </main>
  </body>

  <script>
    const listStyleChangeStartY = 373
  const listStyleChangeEndY = 1585

  const listItems = document.querySelectorAll('.list-item')

  const division = (listStyleChangeEndY - listStyleChangeStartY) / listItems.length

  const panel1Img = document.getElementById('panel1-img')
  const flyingSantaImage = document.getElementById('flying-santa-image')

  const videoPlayBack = 500

  const videoElement = document.getElementById('video')
  const videoSection = document.getElementById("video-section")

  const fixedWrapper = document.getElementById("fixed-wrapper")

  const fixedDescription = document.getElementById("fixed-description")

  function centerElement(elementId, video) {
    const element = document.getElementById(elementId);
    const parent = element.parentElement;

    if (window.scrollY > parent.offsetTop - ((document.documentElement.clientHeight - element.offsetHeight) / 2)) {
      element.style.position = "fixed";
      element.style.top = "50%"
      element.style.left = "50%"
      element.style.transform = "translate(-50%, -50%)"

      if (video) video.currentTime = (window.scrollY - videoSection.offsetTop) / videoPlayBack
    } else {
      element.style.position = "relative"
      element.style.top = "initial"
      element.style.left = "initial"
      element.style.transform = "initial"
    }
  }

  videoElement.addEventListener("loadedmetadata", () => {
    document.getElementById("video-section").style.height = videoElement.duration * videoPlayBack + "px";
  })

  const fixedDescriptionAppearTiming = 3470
  const fixedDescriptionAppearEnds = 3800

  window.addEventListener("scroll", () => {
    if (document.getElementById("on")) document.getElementById("on").removeAttribute("id")

    if (window.scrollY > listStyleChangeStartY && window.scrollY < listStyleChangeEndY) {
      const targetIndex = Math.round((window.scrollY - listStyleChangeStartY) / division)

      if (listItems[targetIndex]) listItems[targetIndex].id = "on"
    }

    const scrollYBottom = window.scrollY + document.documentElement.clientHeight

    if (scrollYBottom > panel1Img.offsetTop && scrollYBottom < panel1Img.offsetTop + panel1Img.offsetHeight + 100) {
      const translateX = 80 - 80 * 1.3 * (scrollYBottom - panel1Img.offsetTop) / (panel1Img.offsetHeight + 100)
      const translateY = -13 + 13 * (scrollYBottom - panel1Img.offsetTop) / (panel1Img.offsetHeight + 100)

      const rotationDegree = 23 - 23 * 1.7 * (scrollYBottom - panel1Img.offsetTop) / (panel1Img.offsetHeight + 100)

      flyingSantaImage.style.transform = `translate(${translateX}px, ${translateY}px) rotate(${rotationDegree}deg)`
    }

    centerElement("fixed-wrapper", videoElement)

    if (window.scrollY > videoSection.offsetTop + videoSection.offsetHeight - (fixedWrapper.offsetHeight + (document.documentElement.clientHeight - fixedWrapper.offsetHeight) / 2)) {
      fixedWrapper.style.position = "relative"
      fixedWrapper.style.top = "initial"
      fixedWrapper.style.left = "initial"
      fixedWrapper.style.transform = `translateY(${videoSection.offsetHeight - fixedWrapper.offsetHeight}px)`
    }

    if (window.scrollY > fixedDescriptionAppearTiming && window.scrollY < fixedDescriptionAppearEnds) {
      fixedDescription.style.transform = `translateY(${fixedDescriptionAppearEnds - window.scrollY}px)`

      fixedDescription.style.opacity = (window.scrollY - fixedDescriptionAppearTiming) / 300
    } else if (window.scrollY > fixedDescriptionAppearEnds) {
      fixedDescription.style.transform = `translateY(0px)`
      fixedDescription.style.opacity = 1
    } else {
      fixedDescription.style.transform = `translateY(100px)`
      fixedDescription.style.opacity = 0
    }
    centerElement('bank-beyond')

  })

  </script>
</html>
